<!-- TEMPLATE: Start/Execute Command
     This is the MOST IMPORTANT command. It enforces a 7-phase structured
     execution session with approval gates. The phases prevent the AI from
     jumping ahead without understanding the task and getting user alignment.

     Customize the phase names and content for your domain, but preserve the
     7-phase structure:
       Phase 1: Load context (automatic)
       Phase 2: Plan/hypothesize (APPROVAL GATE)
       Phase 3: Design/architect (APPROVAL GATE)
       Phase 4: Prepare/validate inputs
       Phase 5: Execute the main work
       Phase 6: Verify the work
       Phase 7: Report and prompt for handoff

     Replace all {{PLACEHOLDER}} markers with your workflow's specifics.
     Delete these comments when done.
-->
Begin an execution session. This is the most important command.

The user may specify a task: $ARGUMENTS

---

## Phase 1: Load Context

Read these files automatically — do not ask the user to provide them:
1. `docs/{{BRIEF_DOC}}`
<!-- GUIDE: Add domain-specific documents here. EDA reads domain-context.md and
     data-profile.md. Your workflow might have its own equivalent. -->
2. `docs/lessons-log.md`
3. The task (GitHub issue):
   - If user specified an issue number (e.g. "#42" or "42"), read it: `gh issue view 42`
   - If not, check the brief's "Next task" field for the issue number
   - If still unclear, list open tasks: `gh issue list --label {{ISSUE_LABEL}} --state open` and ask
4. Most recent handoff note in `docs/handoff-notes/` (if any exist)

Confirm understanding with the user:
- "Project: [1 sentence]"
- "Last session: [1 sentence from handoff, or 'First session']"
- "Today's task: #[number] — [restate the objective in your own words]"
- Flag anything unclear or contradictory.

Wait for user confirmation before proceeding.

---

## Phase 2: {{PHASE_2_NAME}}

<!-- GUIDE: This is the planning/hypothesis phase. The AI states its approach
     BEFORE doing any work. This catches misunderstandings early.

     SWE calls this "Plan the Approach" — present what you'll build and how.
     EDA calls this "Hypothesize" — state what you expect to find before looking.

     Customize for your domain but keep the approval gate. -->

Before doing any work, present your approach:

- What is the approach? (1-3 sentences)
- What will you produce?
- What are the key decisions or trade-offs?
- Are there any open questions that need answers before you start?

Keep this concise — a few bullet points, not a document. The goal is alignment, not a formal spec.

**APPROVAL GATE — Wait for user approval or feedback before proceeding.**

---

## Phase 3: {{PHASE_3_NAME}}

<!-- GUIDE: This is the design/architecture phase. The AI designs the solution
     in more detail before executing.

     SWE calls this "Architect the Solution" — define structure, components, integrations.
     EDA calls this "Design Analysis" — choose methods, plan visualizations.

     For simple tasks, this can be brief. For complex tasks, it should be thorough. -->

Design before you execute:

- Define the structure of what you'll produce.
- Identify how this integrates with existing work (if applicable).
- Call out any dependencies, tools, or resources needed.
- If there are multiple valid approaches, present them with trade-offs and recommend one.

Scale the depth of this phase to the complexity of the task.

**APPROVAL GATE — Present the design to the user. Wait for approval before executing.**

---

## Phase 4: {{PHASE_4_NAME}}

<!-- GUIDE: This is the preparation/validation phase — the step before the
     main work that ensures your inputs are sound.

     SWE calls this "Write Tests First" — define expected behavior before implementing.
     EDA calls this "Validate Data" — check data quality before analyzing.

     What does "validating inputs" mean in your domain? -->

Prepare for the main work:

- Validate that your inputs are sound and suitable for the planned approach.
- Set up any prerequisites needed for the main work.
- Define what "success" looks like for this specific task.

If this step reveals problems, flag them before proceeding.

---

## Phase 5: {{PHASE_5_NAME}}

<!-- GUIDE: This is the main execution phase. The actual work happens here.

     SWE: "Implement" — write the code.
     EDA: "Analyze" — run the analysis.

     Keep the AI focused on the issue scope. Out-of-scope discoveries get noted
     in the handoff, not chased. -->

Now do the work:

- Follow the design from Phase 3.
- Stay within the scope defined in the issue. If you discover something out of scope, flag it — don't pursue it.
- If you make a decision that wasn't covered in the design, note it for the handoff.
<!-- GUIDE: Add domain-specific instructions here. EDA tells the AI to update
     data-profile.md whenever it learns something new about the data. -->

---

## Phase 6: {{PHASE_6_NAME}}

<!-- GUIDE: This is the verification phase. "It should work" is not verification.

     SWE: "Verify" — run tests, check acceptance criteria, check regressions.
     EDA: "Validate Results" — statistical checks, sanity checks, reproducibility.

     What does verification mean in your domain? -->

Verify the work before declaring it complete:

- Check each acceptance criterion from the GitHub issue. Can each one be demonstrated?
- Review your own output — look for obvious issues, gaps, or incomplete work.
<!-- GUIDE: Add domain-specific verification steps here. -->

If verification fails, go back to Phase 5 and fix. Do not proceed until verification passes.

---

## Phase 7: Report

Summarize what was done:

- What was produced and where (file paths)
- Acceptance criteria status (all met / any caveats)
- Any decisions made during execution that weren't in the original design
- Any concerns, follow-up items, or things the user should verify

Then ask the user if they'd like to proceed to `/handoff` to close out the session.
